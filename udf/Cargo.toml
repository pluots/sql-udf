[package]
name = "udf"
version = "0.1.1"
rust-version = "1.65"
edition = "2021"
description = "Easily create user defined functions (UDFs) for MariaDB and MySQL."
repository = "https://github.com/pluots/sql-udf"
readme = "../README.md"
license = "Apache-2.0"
keywords = ["sql", "udf"]

[dependencies]
mysqlclient-sys = "0.2.5"
udf-macros = { path = "../udf_macros", version = "0.1.0"}

[dev-dependencies]
lipsum = "0.8.2"
# Needed for 
uuid = { version = "1.1.2", features = ["v1", "v3", "v4", "v5", "fast-rng"] }

[[example]]
name = "uuidv"
crate-type = ["cdylib"]

[[example]]
name = "basic_sum"
crate-type = ["cdylib"]

[[example]]
name = "lipsum"
crate-type = ["cdylib"]

[[example]]
name = "sequence"
crate-type = ["cdylib"]

[[example]]
name = "avgcost"
crate-type = ["cdylib"]

[[example]]
name = "is_const"
crate-type = ["cdylib"]

[[example]]
name = "median"
crate-type = ["cdylib"]

[[example]]
name = "metaphon"
crate-type = ["cdylib"]


[package.metadata.release]
shared-version = true

# Can't run replacements at workspace root. Need to use this "hacky" sort of way.
# [[package.metadata.release.pre-release-replacements]]
# file = "../../CHANGELOG.md"
# search = "Unreleased"
# replace = "{{version}}"

# [[package.metadata.release.pre-release-replacements]]
# file = "../../CHANGELOG.md"
# search = "\\.\\.\\.HEAD"
# replace = "...{{tag_name}}"
# exactly = 1

# [[package.metadata.release.pre-release-replacements]]
# file = "../../CHANGELOG.md"
# search = "ReleaseDate"
# replace = "{{date}}"

# [[package.metadata.release.pre-release-replacements]]
# file = "../../CHANGELOG.md"
# search = "<!-- next-header -->"
# replace = """\
#   <!-- next-header -->\n\n\
#   ## [Unreleased] - ReleaseDate\n\n\
#   ### Added\n\n\
#   ### Changed\n\n\
#   ### Removed\n\n\
#   """
# exactly = 1

# [[package.metadata.release.pre-release-replacements]]
# file = "../../CHANGELOG.md"
# search = "<!-- next-url -->"
# replace = """\
#   <!-- next-url -->\n\
#   [Unreleased]: https://github.com/pluots/stringmetrics/compare/{{tag_name}}...HEAD\
#   """
# exactly = 1
